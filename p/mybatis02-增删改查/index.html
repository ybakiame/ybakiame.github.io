<!DOCTYPE html>
<html lang="en-us">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='CRUD操作  SQL语句返回值类型。【完整的类名或者别名】 传入SQL语句的参数类型 。【万能的Map，可以多尝试使用】 命名空间中唯一的标识符 接口中的方法名与映射文件中的SQL语句ID 一一对应 id parameterType resultType  select 标签  id 相应dao层方法 parameterType 传入参数类型 resultType 返回对象  需求：根据id查询用户
1、在UserMapper中添加对应方法
public interface UserMapper { //根据id查询用户  User selectUserById(int id); } 2、在UserMapper.xml中添加Select语句
&amp;lt;select id=&amp;#34;selectUserById&amp;#34; resultType=&amp;#34;com.xxgc.pojo.User&amp;#34;&amp;gt; select * from user where id = #{id} &amp;lt;/select&amp;gt; 3、测试类中测试
@Test public void tsetSelectUserById() { SqlSession session = MybatisUtils.getSession(); //获取SqlSession连接  UserMapper mapper = session.getMapper(UserMapper.class); User user = mapper.selectUserById(1); System.out.println(user); session.close(); } insert 标签 需求：给数据库增加一个用户'><title>MyBatis02 增删改查</title>

<link rel='canonical' href='https://example.com/p/mybatis02-%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/'>

<link rel="stylesheet" href="/scss/style.min.css"><meta property='og:title' content='MyBatis02 增删改查'>
<meta property='og:description' content='CRUD操作  SQL语句返回值类型。【完整的类名或者别名】 传入SQL语句的参数类型 。【万能的Map，可以多尝试使用】 命名空间中唯一的标识符 接口中的方法名与映射文件中的SQL语句ID 一一对应 id parameterType resultType  select 标签  id 相应dao层方法 parameterType 传入参数类型 resultType 返回对象  需求：根据id查询用户
1、在UserMapper中添加对应方法
public interface UserMapper { //根据id查询用户  User selectUserById(int id); } 2、在UserMapper.xml中添加Select语句
&amp;lt;select id=&amp;#34;selectUserById&amp;#34; resultType=&amp;#34;com.xxgc.pojo.User&amp;#34;&amp;gt; select * from user where id = #{id} &amp;lt;/select&amp;gt; 3、测试类中测试
@Test public void tsetSelectUserById() { SqlSession session = MybatisUtils.getSession(); //获取SqlSession连接  UserMapper mapper = session.getMapper(UserMapper.class); User user = mapper.selectUserById(1); System.out.println(user); session.close(); } insert 标签 需求：给数据库增加一个用户'>
<meta property='og:url' content='https://example.com/p/mybatis02-%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/'>
<meta property='og:site_name' content='ybakiame&#39; Blog'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='mybatis' /><meta property='article:published_time' content='2021-11-09T09:52:53&#43;08:00'/><meta property='article:modified_time' content='2021-11-09T09:52:53&#43;08:00'/>
<meta name="twitter:title" content="MyBatis02 增删改查">
<meta name="twitter:description" content="CRUD操作  SQL语句返回值类型。【完整的类名或者别名】 传入SQL语句的参数类型 。【万能的Map，可以多尝试使用】 命名空间中唯一的标识符 接口中的方法名与映射文件中的SQL语句ID 一一对应 id parameterType resultType  select 标签  id 相应dao层方法 parameterType 传入参数类型 resultType 返回对象  需求：根据id查询用户
1、在UserMapper中添加对应方法
public interface UserMapper { //根据id查询用户  User selectUserById(int id); } 2、在UserMapper.xml中添加Select语句
&amp;lt;select id=&amp;#34;selectUserById&amp;#34; resultType=&amp;#34;com.xxgc.pojo.User&amp;#34;&amp;gt; select * from user where id = #{id} &amp;lt;/select&amp;gt; 3、测试类中测试
@Test public void tsetSelectUserById() { SqlSession session = MybatisUtils.getSession(); //获取SqlSession连接  UserMapper mapper = session.getMapper(UserMapper.class); User user = mapper.selectUserById(1); System.out.println(user); session.close(); } insert 标签 需求：给数据库增加一个用户">
    </head>
    <body class="
    article-page has-toc
">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex 
    
        extended
    
">
    
        <div id="article-toolbar">
            <a href="/" class="back-home">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="15 6 9 12 15 18" />
</svg>



                <span>返回</span>
            </a>
        </div>
    
<main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/mybatis/" >
                mybatis
            </a>
        
    </header>
    

    <h2 class="article-title">
        <a href="/p/mybatis02-%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/">MyBatis02 增删改查</a>
    </h2>

    

    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Nov 09, 2021</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    阅读时长: 4 分钟
                </time>
            </div>
        
    </footer>
    
</div>
</header>

    <section class="article-content">
    <h2 id="crud操作">CRUD操作</h2>
<ul>
<li>SQL语句返回值类型。【完整的类名或者别名】</li>
<li>传入SQL语句的参数类型 。【万能的Map，可以多尝试使用】</li>
<li>命名空间中唯一的标识符</li>
<li>接口中的方法名与映射文件中的SQL语句ID 一一对应</li>
<li>id</li>
<li>parameterType</li>
<li>resultType</li>
</ul>
<h3 id="select-标签">select 标签</h3>
<ul>
<li>id 相应dao层方法</li>
<li>parameterType 传入参数类型</li>
<li>resultType 返回对象</li>
</ul>
<p><strong>需求：根据id查询用户</strong></p>
<p>1、在UserMapper中添加对应方法</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">UserMapper</span> <span class="o">{</span>
   <span class="c1">//根据id查询用户
</span><span class="c1"></span>   <span class="n">User</span> <span class="nf">selectUserById</span><span class="o">(</span><span class="kt">int</span> <span class="n">id</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div><p>2、在UserMapper.xml中添加Select语句</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;selectUserById&#34;</span> <span class="na">resultType=</span><span class="s">&#34;com.xxgc.pojo.User&#34;</span><span class="nt">&gt;</span>
	select * from user where id = #{id}
<span class="nt">&lt;/select&gt;</span>
</code></pre></div><p>3、测试类中测试</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">tsetSelectUserById</span><span class="o">()</span> <span class="o">{</span>
   <span class="n">SqlSession</span> <span class="n">session</span> <span class="o">=</span> <span class="n">MybatisUtils</span><span class="o">.</span><span class="na">getSession</span><span class="o">();</span>  <span class="c1">//获取SqlSession连接
</span><span class="c1"></span>   <span class="n">UserMapper</span> <span class="n">mapper</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="na">getMapper</span><span class="o">(</span><span class="n">UserMapper</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
   <span class="n">User</span> <span class="n">user</span> <span class="o">=</span> <span class="n">mapper</span><span class="o">.</span><span class="na">selectUserById</span><span class="o">(</span><span class="n">1</span><span class="o">);</span>
   <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">user</span><span class="o">);</span>
   <span class="n">session</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div><h3 id="insert-标签">insert 标签</h3>
<p><strong>需求：给数据库增加一个用户</strong></p>
<p>1、在UserMapper接口中添加对应的方法</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="c1">//添加一个用户
</span><span class="c1"></span><span class="kt">int</span> <span class="nf">addUser</span><span class="o">(</span><span class="n">User</span> <span class="n">user</span><span class="o">);</span>
</code></pre></div><p>2、在UserMapper.xml中添加insert语句</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="nt">&lt;insert</span> <span class="na">id=</span><span class="s">&#34;addUser&#34;</span> <span class="na">parameterType=</span><span class="s">&#34;com.xxgc.pojo.User&#34;</span><span class="nt">&gt;</span>
    <span class="c">&lt;!--对象中的属性值可以直接取出来--&gt;</span>
    insert into user (id,name,pwd) values (#{id},#{name},#{pwd})
<span class="nt">&lt;/insert&gt;</span>
</code></pre></div><p>3、测试</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">testAddUser</span><span class="o">()</span> <span class="o">{</span>
   <span class="n">SqlSession</span> <span class="n">session</span> <span class="o">=</span> <span class="n">MybatisUtils</span><span class="o">.</span><span class="na">getSession</span><span class="o">();</span>
   <span class="n">UserMapper</span> <span class="n">mapper</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="na">getMapper</span><span class="o">(</span><span class="n">UserMapper</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
   <span class="n">User</span> <span class="n">user</span> <span class="o">=</span> <span class="k">new</span> <span class="n">User</span><span class="o">(</span><span class="n">5</span><span class="o">,</span><span class="s">&#34;王五&#34;</span><span class="o">,</span><span class="s">&#34;zxcvbn&#34;</span><span class="o">);</span>
   <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">mapper</span><span class="o">.</span><span class="na">addUser</span><span class="o">(</span><span class="n">user</span><span class="o">);</span>
   <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
   <span class="c1">//提交事务,重点!不写的话不会提交到数据库
</span><span class="c1"></span>   <span class="n">session</span><span class="o">.</span><span class="na">commit</span><span class="o">();</span>
   <span class="n">session</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div><p><strong>注意点：增、删、改操作需要提交事务！</strong></p>
<h3 id="update标签">update标签</h3>
<p><strong>需求：修改用户的信息</strong></p>
<p>1、同理，编写接口方法</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="c1">//修改一个用户
</span><span class="c1"></span><span class="kt">int</span> <span class="nf">updateUser</span><span class="o">(</span><span class="n">User</span> <span class="n">user</span><span class="o">);</span>
</code></pre></div><p>2、编写对应的配置文件SQL</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="nt">&lt;update</span> <span class="na">id=</span><span class="s">&#34;updateUser&#34;</span> <span class="na">parameterType=</span><span class="s">&#34;com.xxgc.pojo.User&#34;</span><span class="nt">&gt;</span>
  update user set name=#{name},pwd=#{pwd} where id = #{id}
<span class="nt">&lt;/update&gt;</span>
</code></pre></div><p>3、测试</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">testUpdateUser</span><span class="o">()</span> <span class="o">{</span>
   <span class="n">SqlSession</span> <span class="n">session</span> <span class="o">=</span> <span class="n">MybatisUtils</span><span class="o">.</span><span class="na">getSession</span><span class="o">();</span>
   <span class="n">UserMapper</span> <span class="n">mapper</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="na">getMapper</span><span class="o">(</span><span class="n">UserMapper</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
   <span class="n">User</span> <span class="n">user</span> <span class="o">=</span> <span class="n">mapper</span><span class="o">.</span><span class="na">selectUserById</span><span class="o">(</span><span class="n">1</span><span class="o">);</span>
   <span class="n">user</span><span class="o">.</span><span class="na">setPwd</span><span class="o">(</span><span class="s">&#34;asdfgh&#34;</span><span class="o">);</span>
   <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">mapper</span><span class="o">.</span><span class="na">updateUser</span><span class="o">(</span><span class="n">user</span><span class="o">);</span>
   <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
   <span class="n">session</span><span class="o">.</span><span class="na">commit</span><span class="o">();</span>
   <span class="n">session</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div><h3 id="delete标签">delete标签</h3>
<p><strong>需求：根据id删除一个用户</strong></p>
<p>1、同理，编写接口方法</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="c1">//根据id删除用户
</span><span class="c1"></span><span class="kt">int</span> <span class="nf">deleteUser</span><span class="o">(</span><span class="kt">int</span> <span class="n">id</span><span class="o">);</span>
</code></pre></div><p>2、编写对应的配置文件SQL</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="nt">&lt;delete</span> <span class="na">id=</span><span class="s">&#34;deleteUser&#34;</span> <span class="na">parameterType=</span><span class="s">&#34;int&#34;</span><span class="nt">&gt;</span>
  delete from user where id = #{id}
<span class="nt">&lt;/delete&gt;</span>
</code></pre></div><p>3、测试</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">testDeleteUser</span><span class="o">()</span> <span class="o">{</span>
   <span class="n">SqlSession</span> <span class="n">session</span> <span class="o">=</span> <span class="n">MybatisUtils</span><span class="o">.</span><span class="na">getSession</span><span class="o">();</span>
   <span class="n">UserMapper</span> <span class="n">mapper</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="na">getMapper</span><span class="o">(</span><span class="n">UserMapper</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
   <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">mapper</span><span class="o">.</span><span class="na">deleteUser</span><span class="o">(</span><span class="n">5</span><span class="o">);</span>
   <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
   <span class="n">session</span><span class="o">.</span><span class="na">commit</span><span class="o">();</span>
   <span class="n">session</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div><h3 id="模糊查询">模糊查询</h3>
<p>第1种：在Java代码中添加sql通配符。</p>
<pre tabindex="0"><code>string wildcardname = “%smi%”;
list&lt;name&gt; names = mapper.selectlike(wildcardname);

&lt;select id=”selectlike”&gt;
	select * from foo where bar like #{value}
&lt;/select&gt;
</code></pre><p>第2种：在sql语句中拼接通配符，会引起sql注入</p>
<pre tabindex="0"><code>string wildcardname = “smi”;
list&lt;name&gt; names = mapper.selectlike(wildcardname);

&lt;select id=”selectlike”&gt;
    select * from foo where bar like &quot;%&quot;#{value}&quot;%&quot;
&lt;/select&gt;
</code></pre><p>第3种：使用CONCA()函数</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;selectUsersByLike&#34;</span> <span class="na">parameterType=</span><span class="s">&#34;String&#34;</span> <span class="na">resultType=</span><span class="s">&#34;com.xxgc.pojo.User&#34;</span><span class="nt">&gt;</span>
    select * from user where name like CONCAT(&#39;%&#39;,#{name},&#39;%&#39;);
<span class="nt">&lt;/select&gt;</span>
</code></pre></div><p><strong>小结：</strong></p>
<ul>
<li>所有的增删改操作都需要提交事务！</li>
<li>接口所有的普通参数，尽量都写上@Param参数，尤其是多个参数时，必须写上！</li>
<li>有时候根据业务的需求，可以考虑使用map传递参数！</li>
<li>为了规范操作，在SQL的配置文件中，我们尽量将Parameter参数和resultType都写上！</li>
</ul>
<h3 id="多参数传递">多参数传递</h3>
<p>1、在接口方法的参数前加 @Param属性</p>
<p>2、Sql语句编写的时候，直接取@Param中设置的值即可，不需要单独设置参数类型</p>
<pre tabindex="0"><code>//通过密码和名字查询用户
User selectUserByNP(@Param(&quot;name&quot;) String username,@Param(&quot;pwd&quot;) String pwd);

/*
   &lt;select id=&quot;selectUserByNP&quot; resultType=&quot;com.kuang.pojo.User&quot;&gt;
     select * from user where name = #{username} and pwd = #{pwd}
   &lt;/select&gt;
*/
</code></pre><p>思路二：使用万能的Map</p>
<p>1、在接口方法中，参数直接传递Map；</p>
<pre tabindex="0"><code>User selectUserByNP2(Map&lt;String,Object&gt; map);
</code></pre><p>2、编写sql语句的时候，需要传递参数类型，参数类型为map</p>
<pre tabindex="0"><code>&lt;select id=&quot;selectUserByNP2&quot; parameterType=&quot;map&quot; resultType=&quot;com.kuang.pojo.User&quot;&gt;
select * from user where name = #{username} and pwd = #{pwd}
&lt;/select&gt;
</code></pre><p>3、在使用方法的时候，Map的 key 为 sql中取的值即可，没有顺序要求！</p>
<pre tabindex="0"><code>Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();
map.put(&quot;username&quot;,&quot;小明&quot;);
map.put(&quot;pwd&quot;,&quot;123456&quot;);
User user = mapper.selectUserByNP2(map);
</code></pre><p>总结：如果参数过多，我们可以考虑直接使用Map实现，如果参数比较少，直接传递参数即可</p>
<h2 id="常用配置">常用配置</h2>
<h3 id="mybatis环境配置">mybatis环境配置</h3>
<h4 id="environments节点">environments节点</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="nt">&lt;environments</span> <span class="na">default=</span><span class="s">&#34;development&#34;</span><span class="nt">&gt;</span>
 <span class="nt">&lt;environment</span> <span class="na">id=</span><span class="s">&#34;development&#34;</span><span class="nt">&gt;</span>
   <span class="nt">&lt;transactionManager</span> <span class="na">type=</span><span class="s">&#34;JDBC&#34;</span><span class="nt">&gt;</span>
     <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;...&#34;</span> <span class="na">value=</span><span class="s">&#34;...&#34;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;/transactionManager&gt;</span>
   <span class="nt">&lt;dataSource</span> <span class="na">type=</span><span class="s">&#34;POOLED&#34;</span><span class="nt">&gt;</span>
     <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;driver&#34;</span> <span class="na">value=</span><span class="s">&#34;${driver}&#34;</span><span class="nt">/&gt;</span>
     <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;url&#34;</span> <span class="na">value=</span><span class="s">&#34;${url}&#34;</span><span class="nt">/&gt;</span>
     <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;username&#34;</span> <span class="na">value=</span><span class="s">&#34;${username}&#34;</span><span class="nt">/&gt;</span>
     <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;password&#34;</span> <span class="na">value=</span><span class="s">&#34;${password}&#34;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;/dataSource&gt;</span>
 <span class="nt">&lt;/environment&gt;</span>
<span class="nt">&lt;/environments&gt;</span>
</code></pre></div><ul>
<li>
<p>配置MyBatis的多套运行环境，将SQL映射到多个不同的数据库上，必须指定其中一个为默认运行环境（通过default指定）</p>
</li>
<li>
<p>子元素节点：<strong>environment</strong></p>
</li>
<li>
<ul>
<li>
<p>dataSource 元素使用标准的 JDBC 数据源接口来配置 JDBC 连接对象的资源。</p>
</li>
<li>
<p>数据源是必须配置的。</p>
</li>
<li>
<p>有三种内建的数据源类型</p>
<pre tabindex="0"><code>type=&quot;[UNPOOLED|POOLED|JNDI]&quot;）
</code></pre></li>
<li>
<p>unpooled：这个数据源的实现只是每次被请求时打开和关闭连接。</p>
</li>
<li>
<p><strong>pooled</strong>：这种数据源的实现利用“池”的概念将 JDBC 连接对象组织起来 , 这是一种使得并发 Web 应用快速响应请求的流行处理方式。</p>
</li>
<li>
<p>jndi：这个数据源的实现是为了能在如 Spring 或应用服务器这类容器中使用，容器可以集中或在外部配置数据源，然后放置一个 JNDI 上下文的引用。</p>
</li>
<li>
<p>数据源也有很多第三方的实现，比如dbcp，c3p0，druid等等&hellip;.</p>
</li>
<li>
<p>详情：点击查看官方文档</p>
</li>
<li>
<p>这两种事务管理器类型都不需要设置任何属性。</p>
</li>
<li>
<p>具体的一套环境，通过设置id进行区别，id保证唯一！</p>
</li>
<li>
<p>子元素节点：transactionManager - [ 事务管理器 ]</p>
<pre tabindex="0"><code>&lt;!-- 语法 --&gt;
&lt;transactionManager type=&quot;[ JDBC | MANAGED ]&quot;/&gt;
</code></pre></li>
<li>
<p>子元素节点：<strong>数据源（dataSource）</strong></p>
</li>
</ul>
</li>
</ul>
<h4 id="mappers节点">mappers节点</h4>
<ul>
<li>映射器 : 定义映射SQL语句文件</li>
<li>既然 MyBatis 的行为其他元素已经配置完了，我们现在就要定义 SQL 映射语句了。但是首先我们需要告诉 MyBatis 到哪里去找到这些语句。Java 在自动查找这方面没有提供一个很好的方法，所以最佳的方式是告诉 MyBatis 到哪里去找映射文件。你可以使用相对于类路径的资源引用， 或完全限定资源定位符（包括 <code>file:///</code> 的 URL），或类名和包名等。映射器是MyBatis中最核心的组件之一，在MyBatis 3之前，只支持xml映射器，即：所有的SQL语句都必须在xml文件中配置。而从MyBatis 3开始，还支持接口映射器，这种映射器方式允许以Java代码的方式注解定义SQL语句，非常简洁。</li>
</ul>
<p><strong>引入资源方式</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="c">&lt;!-- 使用相对于类路径的资源引用 --&gt;</span>
<span class="nt">&lt;mappers&gt;</span>
 <span class="nt">&lt;mapper</span> <span class="na">resource=</span><span class="s">&#34;org/mybatis/builder/PostMapper.xml&#34;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/mappers&gt;</span>
<span class="c">&lt;!-- 使用完全限定资源定位符（URL） --&gt;</span>
<span class="nt">&lt;mappers&gt;</span>
 <span class="nt">&lt;mapper</span> <span class="na">url=</span><span class="s">&#34;file:///var/mappers/AuthorMapper.xml&#34;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/mappers&gt;</span>
<span class="c">&lt;!--
</span><span class="c">使用映射器接口实现类的完全限定类名
</span><span class="c">需要配置文件名称和接口名称一致，并且位于同一目录下
</span><span class="c">--&gt;</span>
<span class="nt">&lt;mappers&gt;</span>
 <span class="nt">&lt;mapper</span> <span class="na">class=</span><span class="s">&#34;org.mybatis.builder.AuthorMapper&#34;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/mappers&gt;</span>
<span class="c">&lt;!--
</span><span class="c">将包内的映射器接口实现全部注册为映射器
</span><span class="c">但是需要配置文件名称和接口名称一致，并且位于同一目录下
</span><span class="c">--&gt;</span>
<span class="nt">&lt;mappers&gt;</span>
 <span class="nt">&lt;package</span> <span class="na">name=</span><span class="s">&#34;org.mybatis.builder&#34;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/mappers&gt;</span>
</code></pre></div><p><strong>Mapper文件</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34; ?&gt;</span>
<span class="cp">&lt;!DOCTYPE mapper
</span><span class="cp">       PUBLIC &#34;-//mybatis.org//DTD Mapper 3.0//EN&#34;
</span><span class="cp">       &#34;http://mybatis.org/dtd/mybatis-3-mapper.dtd&#34;&gt;</span>
<span class="nt">&lt;mapper</span> <span class="na">namespace=</span><span class="s">&#34;com.xxgc.mybatis.mapper.UserMapper&#34;</span><span class="nt">&gt;</span>
   
<span class="nt">&lt;/mapper&gt;</span>
</code></pre></div><ul>
<li>
<p>namespace中文意思：命名空间，作用如下：</p>
</li>
<li>
<ul>
<li>namespace的命名必须跟某个接口同名</li>
<li>接口中的方法与映射文件中sql语句id应该一一对应</li>
</ul>
</li>
<li>
<ol>
<li>namespace和子元素的id联合保证唯一  , 区别不同的mapper</li>
<li>绑定DAO接口</li>
<li>namespace命名规则 : 包名+类名</li>
</ol>
</li>
</ul>
<p>MyBatis 的真正强大在于它的映射语句，这是它的魔力所在。由于它的异常强大，映射器的 XML 文件就显得相对简单。如果拿它跟具有相同功能的 JDBC 代码进行对比，你会立即发现省掉了将近 95% 的代码。MyBatis 为聚焦于 SQL 而构建，以尽可能地为你减少麻烦。</p>
<h4 id="properties优化">Properties优化</h4>
<p>数据库这些属性都是可外部配置且可动态替换的，既可以在典型的 Java 属性文件中配置，亦可通过 properties 元素的子元素来传递。具体的官方文档</p>
<p>我们来优化我们的配置文件</p>
<p>第一步 ; 在资源目录下新建一个db.properties</p>
<pre tabindex="0"><code class="language-properties" data-lang="properties">driver=com.mysql.jdbc.Driver
url=jdbc:mysql://localhost:3306/mybatis?useSSL=true&amp;useUnicode=true&amp;characterEncoding=utf8
username=root
password=123456
</code></pre><p>第二步 : 将文件导入properties 配置文件</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="nt">&lt;configuration&gt;</span>
   <span class="c">&lt;!--导入properties文件--&gt;</span>
   <span class="nt">&lt;properties</span> <span class="na">resource=</span><span class="s">&#34;db.properties&#34;</span><span class="nt">/&gt;</span>

   <span class="nt">&lt;environments</span> <span class="na">default=</span><span class="s">&#34;development&#34;</span><span class="nt">&gt;</span>
       <span class="nt">&lt;environment</span> <span class="na">id=</span><span class="s">&#34;development&#34;</span><span class="nt">&gt;</span>
           <span class="nt">&lt;transactionManager</span> <span class="na">type=</span><span class="s">&#34;JDBC&#34;</span><span class="nt">/&gt;</span>
           <span class="nt">&lt;dataSource</span> <span class="na">type=</span><span class="s">&#34;POOLED&#34;</span><span class="nt">&gt;</span>
               <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;driver&#34;</span> <span class="na">value=</span><span class="s">&#34;${driver}&#34;</span><span class="nt">/&gt;</span>
               <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;url&#34;</span> <span class="na">value=</span><span class="s">&#34;${url}&#34;</span><span class="nt">/&gt;</span>
               <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;username&#34;</span> <span class="na">value=</span><span class="s">&#34;${username}&#34;</span><span class="nt">/&gt;</span>
               <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;password&#34;</span> <span class="na">value=</span><span class="s">&#34;${password}&#34;</span><span class="nt">/&gt;</span>
           <span class="nt">&lt;/dataSource&gt;</span>
       <span class="nt">&lt;/environment&gt;</span>
   <span class="nt">&lt;/environments&gt;</span>
   <span class="nt">&lt;mappers&gt;</span>
       <span class="nt">&lt;mapper</span> <span class="na">resource=</span><span class="s">&#34;mapper/UserMapper.xml&#34;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;/mappers&gt;</span>
<span class="nt">&lt;/configuration&gt;</span>
</code></pre></div><h4 id="typealiases优化">typeAliases优化</h4>
<p>类型别名是为 Java 类型设置一个短的名字。它只和 XML 配置有关，存在的意义仅在于用来减少类完全限定名的冗余。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="c">&lt;!--配置别名,注意顺序--&gt;</span>
<span class="nt">&lt;typeAliases&gt;</span>
   <span class="nt">&lt;typeAlias</span> <span class="na">type=</span><span class="s">&#34;com.xxgc.mybatis.pojo.User&#34;</span> <span class="na">alias=</span><span class="s">&#34;User&#34;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/typeAliases&gt;</span>
</code></pre></div><p>也可以指定一个包名，MyBatis 会在包名下面搜索需要的 Java Bean，比如:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="nt">&lt;typeAliases&gt;</span>
   <span class="nt">&lt;package</span> <span class="na">name=</span><span class="s">&#34;com.xxgc.mybatis.pojo&#34;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/typeAliases&gt;</span>
</code></pre></div><p>每一个在包 <code>com.xxgc.mybatis.pojo</code> 中的 Java Bean，在没有注解的情况下，会使用 Bean 的首字母小写的非限定类名来作为它的别名。</p>
<p>若有注解，则别名为其注解值。见下面的例子：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="nd">@Alias</span><span class="o">(</span><span class="s">&#34;user&#34;</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">User</span> <span class="o">{</span>
  <span class="o">...</span>
<span class="o">}</span>
</code></pre></div><h4 id="其他配置浏览">其他配置浏览</h4>
<p><strong>设置</strong></p>
<ul>
<li>
<p>设置（settings）相关 =&gt; 查看帮助文档</p>
</li>
<li>
<ul>
<li>懒加载</li>
<li>日志实现</li>
<li>缓存开启关闭</li>
</ul>
</li>
<li>
<p>一个配置完整的 settings 元素的示例如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="nt">&lt;settings&gt;</span>
 <span class="nt">&lt;setting</span> <span class="na">name=</span><span class="s">&#34;cacheEnabled&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span><span class="nt">/&gt;</span>
 <span class="nt">&lt;setting</span> <span class="na">name=</span><span class="s">&#34;lazyLoadingEnabled&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span><span class="nt">/&gt;</span>
 <span class="nt">&lt;setting</span> <span class="na">name=</span><span class="s">&#34;multipleResultSetsEnabled&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span><span class="nt">/&gt;</span>
 <span class="nt">&lt;setting</span> <span class="na">name=</span><span class="s">&#34;useColumnLabel&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span><span class="nt">/&gt;</span>
 <span class="nt">&lt;setting</span> <span class="na">name=</span><span class="s">&#34;useGeneratedKeys&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span><span class="nt">/&gt;</span>
 <span class="nt">&lt;setting</span> <span class="na">name=</span><span class="s">&#34;autoMappingBehavior&#34;</span> <span class="na">value=</span><span class="s">&#34;PARTIAL&#34;</span><span class="nt">/&gt;</span>
 <span class="nt">&lt;setting</span> <span class="na">name=</span><span class="s">&#34;autoMappingUnknownColumnBehavior&#34;</span> <span class="na">value=</span><span class="s">&#34;WARNING&#34;</span><span class="nt">/&gt;</span>
 <span class="nt">&lt;setting</span> <span class="na">name=</span><span class="s">&#34;defaultExecutorType&#34;</span> <span class="na">value=</span><span class="s">&#34;SIMPLE&#34;</span><span class="nt">/&gt;</span>
 <span class="nt">&lt;setting</span> <span class="na">name=</span><span class="s">&#34;defaultStatementTimeout&#34;</span> <span class="na">value=</span><span class="s">&#34;25&#34;</span><span class="nt">/&gt;</span>
 <span class="nt">&lt;setting</span> <span class="na">name=</span><span class="s">&#34;defaultFetchSize&#34;</span> <span class="na">value=</span><span class="s">&#34;100&#34;</span><span class="nt">/&gt;</span>
 <span class="nt">&lt;setting</span> <span class="na">name=</span><span class="s">&#34;safeRowBoundsEnabled&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span><span class="nt">/&gt;</span>
 <span class="nt">&lt;setting</span> <span class="na">name=</span><span class="s">&#34;mapUnderscoreToCamelCase&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span><span class="nt">/&gt;</span>
 <span class="nt">&lt;setting</span> <span class="na">name=</span><span class="s">&#34;localCacheScope&#34;</span> <span class="na">value=</span><span class="s">&#34;SESSION&#34;</span><span class="nt">/&gt;</span>
 <span class="nt">&lt;setting</span> <span class="na">name=</span><span class="s">&#34;jdbcTypeForNull&#34;</span> <span class="na">value=</span><span class="s">&#34;OTHER&#34;</span><span class="nt">/&gt;</span>
 <span class="nt">&lt;setting</span> <span class="na">name=</span><span class="s">&#34;lazyLoadTriggerMethods&#34;</span> <span class="na">value=</span><span class="s">&#34;equals,clone,hashCode,toString&#34;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/settings&gt;</span>
</code></pre></div></li>
</ul>
<p><strong>类型处理器</strong></p>
<ul>
<li>无论是 MyBatis 在预处理语句（PreparedStatement）中设置一个参数时，还是从结果集中取出一个值时， 都会用类型处理器将获取的值以合适的方式转换成 Java 类型。</li>
<li>你可以重写类型处理器或创建你自己的类型处理器来处理不支持的或非标准的类型。【了解即可】</li>
</ul>
<p><strong>对象工厂</strong></p>
<ul>
<li>MyBatis 每次创建结果对象的新实例时，它都会使用一个对象工厂（ObjectFactory）实例来完成。</li>
<li>默认的对象工厂需要做的仅仅是实例化目标类，要么通过默认构造方法，要么在参数映射存在的时候通过有参构造方法来实例化。</li>
<li>如果想覆盖对象工厂的默认行为，则可以通过创建自己的对象工厂来实现。【了解即可】</li>
</ul>
<h4 id="生命周期和作用域">生命周期和作用域</h4>
<p><strong>作用域（Scope）和生命周期</strong></p>
<ul>
<li>
<p>理解到目前为止所讨论的类的作用域和生命周期是非常重要的。如果使用不当可导致严重的并发性问题。</p>
<p><strong>SqlSessionFactoryBuilder</strong></p>
<p>这个类可以在任何时候被实例化、使用和销毁。一旦您创造了SqlSessionFactory 就不需要再保留它了。所以SqlSessionFactoryBuilder 实例的最好的作用域是方法体内(即一个本地方法变量)。您能重用SqlSessionFactoryBuilder 创建多个SqlSessionFactory 实例，但最好不要把时间、资源放在解析XML 文件上，而是要从中解放出来做最重要事情。</p>
<p><strong>SqlSessionFactory</strong></p>
<p>一旦创建，SqlSessionFactory 将会存在于您的应用程序整个运行生命周期中。很少或根本没有理由去销毁它或重新创建它。最佳实践是不要在一个应用中多次创建SqlSessionFactory。这样做会被视为“没品味”。所是SqlSessionFactory 最好的作用域范围是一个应用的生命周期范围。这可以由多种方式来实现，最简单的方式是使用Singleton 模式或静态Singleton 模式。但这不是被广泛接受的最佳做法，相反，您可能更愿意使用像Google Guice 或Spring 的依赖注入方式。这些框架允许您创造一个管理器，用于管理SqlSessionFactory 的生命周期。</p>
<p><strong>SqlSession</strong></p>
<p>每个线程都有一个SqlSession 实例，<strong>SqlSession 实例是不被共享的，并且不是线程安全的。因此最好的作用域是request 或者method</strong>。决不要用一个静态字段或者一个类的实例字段来保存SqlSession 实例引用。也不要用任何一个管理作用域，如Servlet 框架中的HttpSession，来保存SqlSession 的引用。如果您正在用一个WEB 框架，可以把SqlSession 的作用域看作类似于HTTP 的请求范围。也就是说，在收到一个HTTP 请求，您可以打开一个SqlSession，当您把response 返回时，就可以把SqlSession 关闭。关闭会话是非常重要的，您应该要确保会话在一个finally 块中被关闭。</p>
<pre tabindex="0"><code>SqlSession session = sqlSessionFactory.openSession();
try {
    // do work
} finally {
    session.close();
}
</code></pre><p>​	在您的代码里都使用这一模式将保证所有的数据库资源被正确地关闭(假如您没有把您自己</p>
<p>的数据库连接传递给MyBatis 管理，这就对MyBatis 表明您希望自己管理连接)。</p>
<p><strong>Mapper 实例</strong></p>
<p>Mappers 是创建来绑定映射语句的接口，该Mapper 实例是从SqlSession 得到的。所有mapper 实例的作用域跟创建它的SqlSession 一样。但是，<strong>mapper 实例最好的作用域是method</strong>，也就是它们应该在方法内被调用，使用完即被销毁。并且mapper 实例不用显式地被关闭。虽然把mapper 实例保持在一个request 范围(与SqlSession 相似)不会产生太大的问题，但是您可能会发现，在这个层次上管理太多资源可能会失控。保持简单，就是让Mappers 保持在一个方法内。</p>
<pre tabindex="0"><code>SqlSession session = sqlSessionFactory.openSession();
try {
    BlogMapper mapper = session.getMapper(BlogMapper.class);
    // do work
} finally {
    session.close();
}
</code></pre></li>
</ul>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/mybatis/">mybatis</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    <aside class="related-contents--wrapper">
    
    
        <h2 class="section-title">相关文章</h2>
        <div class="related-contents">
            <div class="flex article-list--tile">
                
                    
<article class="">
    <a href="/p/mybatis07-%E7%BC%93%E5%AD%98/">
        
        

        <div class="article-details">
            <h2 class="article-title">MyBatis07 缓存</h2>
        </div>
    </a>
</article>
                
                    
<article class="">
    <a href="/p/mybatis06-%E5%8A%A8%E6%80%81sql/">
        
        

        <div class="article-details">
            <h2 class="article-title">MyBatis06 动态SQL</h2>
        </div>
    </a>
</article>
                
                    
<article class="">
    <a href="/p/mybatis05-%E4%B8%80%E5%AF%B9%E5%A4%9A%E5%92%8C%E5%A4%9A%E5%AF%B9%E4%B8%80%E5%A4%84%E7%90%86/">
        
        

        <div class="article-details">
            <h2 class="article-title">MyBatis05 一对多和多对一处理</h2>
        </div>
    </a>
</article>
                
                    
<article class="">
    <a href="/p/mybatis04-%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91/">
        
        

        <div class="article-details">
            <h2 class="article-title">MyBatis04 使用注解开发</h2>
        </div>
    </a>
</article>
                
                    
<article class="">
    <a href="/p/mybatis03-resultmap%E5%8F%8A%E5%88%86%E9%A1%B5/">
        
        

        <div class="article-details">
            <h2 class="article-title">MyBatis03 ResultMap及分页</h2>
        </div>
    </a>
</article>
                
            </div>
        </div>
    
</aside>

     
    
        
    <div class="disqus-container">
    <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "stack" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

<style>
    .disqus-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
</style>

<script>
    window.addEventListener('onColorSchemeChange', (e) => {
        if (DISQUS) {
            DISQUS.reset({
                reload: true
            });
        }
    })
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2021 ybakiame&#39; Blog
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.5.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer="true"
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer="true"
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css"integrity="sha256-c0uckgykQ9v5k&#43;IqViZOZKc47Jn7KQil4/MP3ySA3F8="crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css"integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE="crossorigin="anonymous"
            >

            </main>
    
        <aside class="sidebar right-sidebar sticky">
            <section class="widget archives">
                <div class="widget-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



                </div>
                <h2 class="widget-title section-title">目录</h2>
                
                <div class="widget--toc">
                    <nav id="TableOfContents">
  <ol>
    <li><a href="#crud操作">CRUD操作</a>
      <ol>
        <li><a href="#select-标签">select 标签</a></li>
        <li><a href="#insert-标签">insert 标签</a></li>
        <li><a href="#update标签">update标签</a></li>
        <li><a href="#delete标签">delete标签</a></li>
        <li><a href="#模糊查询">模糊查询</a></li>
        <li><a href="#多参数传递">多参数传递</a></li>
      </ol>
    </li>
    <li><a href="#常用配置">常用配置</a>
      <ol>
        <li><a href="#mybatis环境配置">mybatis环境配置</a>
          <ol>
            <li><a href="#environments节点">environments节点</a></li>
            <li><a href="#mappers节点">mappers节点</a></li>
            <li><a href="#properties优化">Properties优化</a></li>
            <li><a href="#typealiases优化">typeAliases优化</a></li>
            <li><a href="#其他配置浏览">其他配置浏览</a></li>
            <li><a href="#生命周期和作用域">生命周期和作用域</a></li>
          </ol>
        </li>
      </ol>
    </li>
  </ol>
</nav>
                </div>
            </section>
        </aside>
    

        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js"integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g="crossorigin="anonymous"
                defer="false"
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
